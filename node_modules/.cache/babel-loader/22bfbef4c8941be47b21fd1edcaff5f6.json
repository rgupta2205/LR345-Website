{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rahul Gupta\\\\git\\\\lockerroom345website\\\\lockerroom345website\\\\frontend\\\\src\\\\component\\\\Cart\\\\ConfirmOrder.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useRef } from \"react\";\nimport CheckoutSteps from \"../Cart/CheckoutSteps\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport MetaData from \"../layout/MetaData\";\nimport \"./ConfirmOrder.css\";\nimport { Link } from \"react-router-dom\";\nimport { Typography } from \"@material-ui/core\";\nimport ReactToPrint from \"react-to-print\";\nimport PrintIcon from \"@mui/icons-material/Print\";\nimport { addItemsToCart } from \"../../actions/cartAction\";\nimport store from \"../../store.js\";\nimport axios from \"axios\";\nimport { createOrder, clearErrors } from \"../../actions/orderAction\";\nimport { removeAllCartItems } from \"../../actions/cartAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ConfirmOrder = _ref => {\n  _s();\n\n  let {\n    history,\n    addComments\n  } = _ref;\n  const dispatch = useDispatch();\n  const {\n    shippingInfo,\n    cartItems\n  } = useSelector(state => state.cart);\n  const {\n    user\n  } = useSelector(state => state.user);\n  const orderInfo = JSON.parse(sessionStorage.getItem(\"orderInfo\"));\n  const componentRef = useRef();\n  const payBtn = useRef(null);\n  const paymentData = {\n    amount: Math.round(0 * 100)\n  }; // const subtotal = cartItems.reduce(\n  //   (acc, item) => acc + item.quantity * item.price,\n  //   0\n  // );\n\n  const cartItemss = useSelector(() => store.getState().cart.cartItems);\n  const subtotal = 0;\n  const shippingCharges = 0;\n  const tax = subtotal * 0;\n  const totalPrice = 0; // const address = `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.state}, ${shippingInfo.pinCode}, ${shippingInfo.country}`;\n\n  const submitHandler = async e => {\n    const order = {\n      shippingInfo,\n      orderItems: cartItems,\n      itemsPrice: 0,\n      taxPrice: 0,\n      shippingPrice: 0,\n      totalPrice: 0\n    };\n    e.preventDefault(); // console.log(\"upadtedcartItemspay\",upadtedcartItems);\n\n    console.log(\"cartItems from confirm order\", cartItems); //payBtn.current.disabled = true;\n\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      const {\n        data\n      } = await axios.post(\"/api/v1/payment/process\", paymentData, config); //const client_secret = data.client_secret;\n      //if (!stripe || !elements) return;\n      // const result = await stripe.confirmCardPayment(client_secret, {\n      //   payment_method: {\n      //     card: elements.getElement(CardNumberElement),\n      //     billing_details: {\n      //       name: user.name,\n      //       email: user.email,\n      //       address: {\n      //         line1: shippingInfo.address,\n      //         city: shippingInfo.city,\n      //         state: shippingInfo.state,\n      //         postal_code: shippingInfo.pinCode,\n      //         country: shippingInfo.country,\n      //       },\n      //     },\n      //   },\n      // });\n      //result.paymentIntent.status === \"succeeded\";\n\n      if (data.success === true && cartItems.length > 0) {\n        // order.paymentInfo = {\n        //   id: result.paymentIntent.id,\n        //   status: result.paymentIntent.status,\n        // };\n        dispatch(createOrder(order));\n        dispatch(removeAllCartItems());\n        history.push(\"/success\");\n      } else {\n        alert.error(\"No items available in cart. Please try adding the items again\");\n      }\n    } catch (error) {\n      //payBtn.current.disabled = false;\n      alert.error(error.response.data.message);\n    }\n  };\n\n  const proceedToPayment = () => {\n    const data = {\n      subtotal,\n      shippingCharges,\n      tax,\n      totalPrice,\n      cartItemss\n    };\n    console.log(\"cartItems updated\", cartItemss);\n    localStorage.setItem(\"cartItems\", cartItemss); //const username = useSelector(() => getState().cart.cartItems)\n\n    sessionStorage.setItem(\"orderInfo\", JSON.stringify(data));\n    history.push(\"/process/payment\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MetaData, {\n      title: \"Confirm Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CheckoutSteps, {\n      activeStep: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"confirmOrderPage\",\n      ref: componentRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirmshippingArea\",\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Shipping Info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"confirmshippingAreaBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"User Placed Order:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Designation:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: shippingInfo.userLoggedInDesignation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Deliver To Student Id:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: shippingInfo.receivingPersonName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Order Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: shippingInfo.orderDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Phone:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: shippingInfo.phoneNo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Address:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: user.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Additional Comments:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: shippingInfo.additionalComments\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirmCartItems\",\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Your Cart Items:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"confirmCartItemsContainer\",\n            children: cartItems && cartItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cartitemholder\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cartitemholderimage\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image,\n                  alt: \"Product\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cartitemholdername\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 22\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cartitemholdercat\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Subcategory(\", item.SubCategory, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cartitemholdersize\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Size(\", item.ProductSize.split(\",\", 1), \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cartitemholderquantity\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Quantity(\", item.quantity, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 21\n              }, this)]\n            }, item.product, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"printComponent\",\n          children: [/*#__PURE__*/_jsxDEV(ReactToPrint, {\n            trigger: () => /*#__PURE__*/_jsxDEV(PrintIcon, {\n              className: \"PrintIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 30\n            }, this),\n            content: () => componentRef.current\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Print\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orderSummary\",\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Order Summery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Subtotal:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", subtotal]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Shipping Charges:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", shippingCharges]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Tax:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", tax]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"orderSummaryTotal\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Total:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"$\", totalPrice]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => submitHandler(e),\n            children: \"Confirm Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ConfirmOrder, \"ktYBAb1A7pRmQDkFDSohBrk6TlQ=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = ConfirmOrder;\nexport default ConfirmOrder;\n\nvar _c;\n\n$RefreshReg$(_c, \"ConfirmOrder\");","map":{"version":3,"names":["React","Fragment","useRef","CheckoutSteps","useSelector","useDispatch","MetaData","Link","Typography","ReactToPrint","PrintIcon","addItemsToCart","store","axios","createOrder","clearErrors","removeAllCartItems","ConfirmOrder","history","addComments","dispatch","shippingInfo","cartItems","state","cart","user","orderInfo","JSON","parse","sessionStorage","getItem","componentRef","payBtn","paymentData","amount","Math","round","cartItemss","getState","subtotal","shippingCharges","tax","totalPrice","submitHandler","e","order","orderItems","itemsPrice","taxPrice","shippingPrice","preventDefault","console","log","config","headers","data","post","success","length","push","alert","error","response","message","proceedToPayment","localStorage","setItem","stringify","name","userLoggedInDesignation","receivingPersonName","orderDate","phoneNo","address","additionalComments","map","item","image","SubCategory","ProductSize","split","quantity","product","current"],"sources":["C:/Users/Rahul Gupta/git/lockerroom345website/lockerroom345website/frontend/src/component/Cart/ConfirmOrder.js"],"sourcesContent":["import React, { Fragment, useRef } from \"react\";\r\nimport CheckoutSteps from \"../Cart/CheckoutSteps\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport MetaData from \"../layout/MetaData\";\r\nimport \"./ConfirmOrder.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport ReactToPrint from \"react-to-print\";\r\nimport PrintIcon from \"@mui/icons-material/Print\";\r\nimport { addItemsToCart } from \"../../actions/cartAction\";\r\nimport store from \"../../store.js\";\r\nimport axios from \"axios\";\r\nimport { createOrder, clearErrors } from \"../../actions/orderAction\";\r\nimport { removeAllCartItems } from \"../../actions/cartAction\";\r\n\r\nconst ConfirmOrder = ({ history,addComments}) => {\r\n  const dispatch = useDispatch();\r\n  const { shippingInfo, cartItems } = useSelector((state) =>state.cart);\r\n  const { user } = useSelector((state) => state.user);\r\n\r\n  const orderInfo = JSON.parse(sessionStorage.getItem(\"orderInfo\"));\r\n\r\n  const componentRef = useRef();\r\n\r\n  const payBtn = useRef(null);\r\n\r\n  const paymentData = {\r\n    amount: Math.round(0 * 100),\r\n  };\r\n\r\n  // const subtotal = cartItems.reduce(\r\n  //   (acc, item) => acc + item.quantity * item.price,\r\n  //   0\r\n  // );\r\n  const cartItemss = useSelector(() => store.getState().cart.cartItems)\r\n\r\n  const subtotal = 0;\r\n\r\n  const shippingCharges = 0;\r\n\r\n  const tax = subtotal * 0;\r\n\r\n  const totalPrice = 0;\r\n\r\n  // const address = `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.state}, ${shippingInfo.pinCode}, ${shippingInfo.country}`;\r\n  const submitHandler = async (e) => {\r\n    const order = {\r\n      shippingInfo,\r\n      orderItems: cartItems,\r\n      itemsPrice: 0,\r\n      taxPrice: 0,\r\n      shippingPrice: 0,\r\n      totalPrice: 0,\r\n    };\r\n\r\n    e.preventDefault();\r\n    // console.log(\"upadtedcartItemspay\",upadtedcartItems);\r\n    console.log(\"cartItems from confirm order\", cartItems);\r\n    //payBtn.current.disabled = true;\r\n\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n      const { data } = await axios.post(\r\n        \"/api/v1/payment/process\",\r\n        paymentData,\r\n        config\r\n      );\r\n\r\n      //const client_secret = data.client_secret;\r\n\r\n      //if (!stripe || !elements) return;\r\n\r\n      // const result = await stripe.confirmCardPayment(client_secret, {\r\n      //   payment_method: {\r\n      //     card: elements.getElement(CardNumberElement),\r\n      //     billing_details: {\r\n      //       name: user.name,\r\n      //       email: user.email,\r\n      //       address: {\r\n      //         line1: shippingInfo.address,\r\n      //         city: shippingInfo.city,\r\n      //         state: shippingInfo.state,\r\n      //         postal_code: shippingInfo.pinCode,\r\n      //         country: shippingInfo.country,\r\n      //       },\r\n      //     },\r\n      //   },\r\n      // });\r\n      //result.paymentIntent.status === \"succeeded\";\r\n\r\n      if (data.success === true && cartItems.length > 0) {\r\n        // order.paymentInfo = {\r\n        //   id: result.paymentIntent.id,\r\n        //   status: result.paymentIntent.status,\r\n        // };\r\n        dispatch(createOrder(order));             \r\n        dispatch(removeAllCartItems());       \r\n        history.push(\"/success\");\r\n      } else {\r\n        alert.error(\r\n          \"No items available in cart. Please try adding the items again\"\r\n        );\r\n      }\r\n    } catch (error) {\r\n      //payBtn.current.disabled = false;\r\n      alert.error(error.response.data.message);\r\n    }\r\n  };\r\n  \r\n  const proceedToPayment = () => {\r\n    const data = {\r\n      subtotal,\r\n      shippingCharges,\r\n      tax,\r\n      totalPrice,\r\n      cartItemss\r\n    };\r\n    console.log(\"cartItems updated\",cartItemss);\r\n    localStorage.setItem(\"cartItems\",cartItemss);\r\n    //const username = useSelector(() => getState().cart.cartItems)\r\n    sessionStorage.setItem(\"orderInfo\", JSON.stringify(data));\r\n   \r\n    history.push(\"/process/payment\");\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title=\"Confirm Order\" />\r\n      <CheckoutSteps activeStep={1} />\r\n      <div className=\"confirmOrderPage\" ref={componentRef}>\r\n        <div>\r\n          <div className=\"confirmshippingArea\">\r\n            <Typography>Shipping Info</Typography>\r\n            <div className=\"confirmshippingAreaBox\">\r\n              <div>\r\n                <p>User Placed Order:</p>\r\n                <span>{user.name}</span>\r\n                {/* <hr></hr> */}\r\n                <span>&nbsp;</span>\r\n                <p>Designation:</p>\r\n                <span>{shippingInfo.userLoggedInDesignation}</span>\r\n              </div>\r\n              <div>\r\n                <p>Deliver To Student Id:</p>\r\n                <span>{shippingInfo.receivingPersonName}</span>\r\n              </div>\r\n              <div>\r\n                <p>Order Date:</p>\r\n                <span>{shippingInfo.orderDate}</span>\r\n              </div>\r\n              <div>\r\n                <p>Phone:</p>\r\n                <span>{shippingInfo.phoneNo}</span>\r\n              </div>\r\n              <div>\r\n                <p>Address:</p>\r\n                <span>{user.address}</span>\r\n              </div>\r\n              <div>\r\n                <p>Additional Comments:</p>\r\n                <span>{shippingInfo.additionalComments}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"confirmCartItems\">\r\n            <Typography>Your Cart Items:</Typography>\r\n            <div className=\"confirmCartItemsContainer\">\r\n              {cartItems &&\r\n                cartItems.map((item) => (\r\n                  <div className=\"cartitemholder\" key={item.product}>\r\n                    <div className=\"cartitemholderimage\">\r\n                      <img src={item.image} alt=\"Product\" />\r\n                    </div>\r\n                    <div className=\"cartitemholdername\">\r\n                     <span>{item.name}</span>\r\n                    </div>\r\n                    <div className=\"cartitemholdercat\">\r\n                      <span>Subcategory({item.SubCategory})</span>\r\n                    </div>\r\n                    <div className=\"cartitemholdersize\">\r\n                      <span>Size({item.ProductSize.split(\",\",1)})</span>\r\n                    </div>\r\n                    <div className=\"cartitemholderquantity\">\r\n                      <span>\r\n                        Quantity({item.quantity})\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"printComponent\">\r\n            <ReactToPrint\r\n              trigger={() => <PrintIcon className=\"PrintIcon\" />}\r\n              content={() => componentRef.current}\r\n            />{\" \"}\r\n            <p>\r\n              <span>Print</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/*  */}\r\n        <div>\r\n          <div className=\"orderSummary\">\r\n            <Typography>Order Summery</Typography>\r\n            <div>\r\n              <div>\r\n                <p>Subtotal:</p>\r\n                <span>${subtotal}</span>\r\n              </div>\r\n              <div>\r\n                <p>Shipping Charges:</p>\r\n                <span>${shippingCharges}</span>\r\n              </div>\r\n              <div>\r\n                <p>Tax:</p>\r\n                <span>${tax}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"orderSummaryTotal\">\r\n              <p>\r\n                <b>Total:</b>\r\n              </p>\r\n              <span>${totalPrice}</span>\r\n            </div>\r\n\r\n            <button onClick={(e) => submitHandler(e)}>Confirm Order</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ConfirmOrder;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}