{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rahul Gupta\\\\git\\\\lockerroom345website\\\\lockerroom345website\\\\frontend\\\\src\\\\component\\\\Product\\\\Products.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport \"./Products.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clearErrors, getProduct } from \"../../actions/productAction\";\nimport Loader from \"../layout/Loader/Loader\";\nimport ProductCard from \"../Home/ProductCard\";\nimport Pagination from \"react-js-pagination\";\nimport Slider from \"@material-ui/core/Slider\";\nimport { useAlert } from \"react-alert\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MetaData from \"../layout/MetaData\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst categories = [\"FootWears\", \"Clothing\", \"Sports\", \"Miscellaneous\"];\n\nconst Products = _ref => {\n  _s();\n\n  let {\n    match\n  } = _ref;\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [price, setPrice] = useState([0, 25000]);\n  const [category, setCategory] = useState(\"\");\n  const [ratings, setRatings] = useState(0); // const {\n  //   products,\n  //   loading,\n  //   error,\n  //   productsCount,\n  //   resultPerPage,\n  //   filteredProductsCount,\n  // } = useSelector((state) => state.products);\n\n  const {\n    products,\n    loading,\n    error,\n    productsCount,\n    resultPerPage,\n    filteredProductsCount\n  } = useSelector(state => {\n    const mapping = state.products.products.reduce((acc, x) => {\n      let subcategoryData = x.ProductSize.map(y => {\n        let obj = {};\n        obj.size = y.size;\n        obj.url = x.images[0].url;\n        obj.stock = y.stock;\n        obj._id = x._id;\n        return obj;\n      });\n\n      if (acc[x.name]) {\n        return { ...acc,\n          [x.name]: { ...acc[x.name],\n            hashmap: { ...acc[x.name].hashmap,\n              [x.SubCategory]: subcategoryData\n            }\n          }\n        };\n      } else {\n        return { ...acc,\n          [x.name]: {\n            id: x._id,\n            name: x.name,\n            url: x.images[0].url,\n            hashmap: {\n              [x.SubCategory]: subcategoryData\n            }\n          }\n        };\n      }\n    }, {});\n    return { ...state.products,\n      products: mapping\n    };\n  });\n  const keyword = match.params.keyword;\n\n  const setCurrentPageNo = e => {\n    setCurrentPage(e);\n  };\n\n  const priceHandler = (event, newPrice) => {\n    setPrice(newPrice);\n  };\n\n  let count = filteredProductsCount;\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    dispatch(getProduct(keyword, currentPage, category));\n  }, [dispatch, keyword, currentPage, category, alert, error]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(MetaData, {\n        title: \"PRODUCTS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"productsHeading\",\n        children: \"Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filterBox\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filCategories\",\n          children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              component: \"legend\",\n              children: \"Categories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"categoryBox\",\n              children: categories.map(category => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"category-link\",\n                onClick: () => setCategory(category),\n                children: category\n              }, category, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"products\",\n        children: [...Object.entries(products)].sort((a, b) => a[0].localeCompare(b[0])).map(_ref2 => {\n          let [key, value] = _ref2;\n          return /*#__PURE__*/_jsxDEV(ProductCard, {\n            product: value\n          }, value.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 26\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this), resultPerPage < count && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"paginationBox\",\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          activePage: currentPage,\n          itemsCountPerPage: resultPerPage,\n          totalItemsCount: productsCount,\n          onChange: setCurrentPageNo,\n          nextPageText: \"Next\",\n          prevPageText: \"Prev\",\n          firstPageText: \"1st\",\n          lastPageText: \"Last\",\n          itemClass: \"page-item\",\n          linkClass: \"page-link\",\n          activeClass: \"pageItemActive\",\n          activeLinkClass: \"pageLinkActive\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Products, \"PfDyrMzXaeWGmK0lmvnUV3ba8YE=\", false, function () {\n  return [useDispatch, useAlert, useSelector];\n});\n\n_c = Products;\nexport default Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["React","Fragment","useEffect","useState","useSelector","useDispatch","clearErrors","getProduct","Loader","ProductCard","Pagination","Slider","useAlert","Typography","MetaData","categories","Products","match","dispatch","alert","currentPage","setCurrentPage","price","setPrice","category","setCategory","ratings","setRatings","products","loading","error","productsCount","resultPerPage","filteredProductsCount","state","mapping","reduce","acc","x","subcategoryData","ProductSize","map","y","obj","size","url","images","stock","_id","name","hashmap","SubCategory","id","keyword","params","setCurrentPageNo","e","priceHandler","event","newPrice","count","Object","entries","sort","a","b","localeCompare","key","value"],"sources":["C:/Users/Rahul Gupta/git/lockerroom345website/lockerroom345website/frontend/src/component/Product/Products.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\r\nimport \"./Products.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { clearErrors, getProduct } from \"../../actions/productAction\";\r\nimport Loader from \"../layout/Loader/Loader\";\r\nimport ProductCard from \"../Home/ProductCard\";\r\nimport Pagination from \"react-js-pagination\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport { useAlert } from \"react-alert\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport MetaData from \"../layout/MetaData\";\r\n\r\nconst categories = [\r\n  \"FootWears\",\r\n  \"Clothing\",\r\n  \"Sports\",\r\n  \"Miscellaneous\"\r\n];\r\n\r\nconst Products = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const alert = useAlert();\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [price, setPrice] = useState([0, 25000]);\r\n  const [category, setCategory] = useState(\"\");\r\n\r\n  const [ratings, setRatings] = useState(0);\r\n\r\n  // const {\r\n  //   products,\r\n  //   loading,\r\n  //   error,\r\n  //   productsCount,\r\n  //   resultPerPage,\r\n  //   filteredProductsCount,\r\n  // } = useSelector((state) => state.products);\r\n\r\n  const {\r\n    products,\r\n    loading,\r\n    error,\r\n    productsCount,\r\n    resultPerPage,\r\n    filteredProductsCount,\r\n  } = useSelector((state) => {\r\n    const mapping = state.products.products.reduce((acc,x) => {\r\n      let subcategoryData = x.ProductSize.map((y) => {\r\n        let obj = {};        \r\n        obj.size = y.size;\r\n        obj.url = x.images[0].url;\r\n        obj.stock = y.stock;\r\n        obj._id = x._id;\r\n        return obj;\r\n    })\r\n      if(acc[x.name]){\r\n        return {...acc,\r\n        [x.name] : {\r\n            ...acc[x.name], \r\n            hashmap:{\r\n              ...acc[x.name].hashmap, \r\n               [x.SubCategory]:subcategoryData,\r\n            }\r\n          }\r\n        }\r\n        }else{\r\n          return {...acc, \r\n            [x.name]:{\r\n              id : x._id, \r\n              name : x.name,\r\n              url : x.images[0].url,  \r\n              hashmap:{\r\n                [x.SubCategory]:subcategoryData,\r\n              }\r\n            }\r\n          }\r\n        }\r\n    },{});\r\n     return {...state.products, products:mapping}\r\n  });\r\n  const keyword = match.params.keyword;\r\n\r\n  const setCurrentPageNo = (e) => {\r\n    setCurrentPage(e);\r\n  };\r\n\r\n  const priceHandler = (event, newPrice) => {\r\n    setPrice(newPrice);\r\n  };\r\n  let count = filteredProductsCount;\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      alert.error(error);\r\n      dispatch(clearErrors());\r\n    }\r\n\r\n    dispatch(getProduct(keyword, currentPage, category));\r\n  }, [dispatch, keyword, currentPage, category, alert, error]);\r\n\r\n  return (\r\n    <Fragment>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Fragment>\r\n          <MetaData title=\"PRODUCTS\" />\r\n          <h2 className=\"productsHeading\">Products</h2>\r\n\r\n          <div className=\"filterBox\">\r\n            {/* <div className=\"filSize\">\r\n            <fieldset>\r\n              <Typography component=\"legend\">Size</Typography>\r\n              <Slider\r\n                value={price}\r\n                onChange={priceHandler}\r\n                valueLabelDisplay=\"auto\"\r\n                aria-labelledby=\"range-slider\"\r\n                min={4}\r\n                max={12}\r\n              />\r\n              </fieldset>\r\n            </div> */}\r\n\r\n            <div className=\"filCategories\">\r\n              <fieldset>\r\n                <Typography component=\"legend\">Categories</Typography>\r\n                <ul className=\"categoryBox\">\r\n                  {categories.map((category) => (\r\n                    <li\r\n                      className=\"category-link\"\r\n                      key={category}\r\n                      onClick={() => setCategory(category)}\r\n                    >\r\n                      {category}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </fieldset>\r\n            </div>\r\n           \r\n          </div>\r\n\r\n          <div className=\"products\">\r\n            {/* {products &&\r\n              products.map((product) => (\r\n                <ProductCard key={product._id} product={product} />\r\n              ))} */}\r\n              {\r\n              [...Object.entries(products)]\r\n                .sort((a, b) => a[0].localeCompare(b[0]))\r\n                .map(([key, value]) => {\r\n                  return <ProductCard key={value.id} product={value} />\r\n                })}\r\n          </div>\r\n\r\n          {resultPerPage < count && (\r\n            <div className=\"paginationBox\">\r\n              <Pagination\r\n                activePage={currentPage}\r\n                itemsCountPerPage={resultPerPage}\r\n                totalItemsCount={productsCount}\r\n                onChange={setCurrentPageNo}\r\n                nextPageText=\"Next\"\r\n                prevPageText=\"Prev\"\r\n                firstPageText=\"1st\"\r\n                lastPageText=\"Last\"\r\n                itemClass=\"page-item\"\r\n                linkClass=\"page-link\"\r\n                activeClass=\"pageItemActive\"\r\n                activeLinkClass=\"pageLinkActive\"\r\n              />\r\n            </div>\r\n          )}\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,QAArC,QAAqD,OAArD;AACA,OAAO,gBAAP;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,6BAAxC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,oBAArB;;AAEA,MAAMC,UAAU,GAAG,CACjB,WADiB,EAEjB,UAFiB,EAGjB,QAHiB,EAIjB,eAJiB,CAAnB;;AAOA,MAAMC,QAAQ,GAAG,QAAe;EAAA;;EAAA,IAAd;IAAEC;EAAF,CAAc;EAC9B,MAAMC,QAAQ,GAAGb,WAAW,EAA5B;EAEA,MAAMc,KAAK,GAAGP,QAAQ,EAAtB;EAEA,MAAM,CAACQ,WAAD,EAAcC,cAAd,IAAgClB,QAAQ,CAAC,CAAD,CAA9C;EACA,MAAM,CAACmB,KAAD,EAAQC,QAAR,IAAoBpB,QAAQ,CAAC,CAAC,CAAD,EAAI,KAAJ,CAAD,CAAlC;EACA,MAAM,CAACqB,QAAD,EAAWC,WAAX,IAA0BtB,QAAQ,CAAC,EAAD,CAAxC;EAEA,MAAM,CAACuB,OAAD,EAAUC,UAAV,IAAwBxB,QAAQ,CAAC,CAAD,CAAtC,CAT8B,CAW9B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAM;IACJyB,QADI;IAEJC,OAFI;IAGJC,KAHI;IAIJC,aAJI;IAKJC,aALI;IAMJC;EANI,IAOF7B,WAAW,CAAE8B,KAAD,IAAW;IACzB,MAAMC,OAAO,GAAGD,KAAK,CAACN,QAAN,CAAeA,QAAf,CAAwBQ,MAAxB,CAA+B,CAACC,GAAD,EAAKC,CAAL,KAAW;MACxD,IAAIC,eAAe,GAAGD,CAAC,CAACE,WAAF,CAAcC,GAAd,CAAmBC,CAAD,IAAO;QAC7C,IAAIC,GAAG,GAAG,EAAV;QACAA,GAAG,CAACC,IAAJ,GAAWF,CAAC,CAACE,IAAb;QACAD,GAAG,CAACE,GAAJ,GAAUP,CAAC,CAACQ,MAAF,CAAS,CAAT,EAAYD,GAAtB;QACAF,GAAG,CAACI,KAAJ,GAAYL,CAAC,CAACK,KAAd;QACAJ,GAAG,CAACK,GAAJ,GAAUV,CAAC,CAACU,GAAZ;QACA,OAAOL,GAAP;MACH,CAPuB,CAAtB;;MAQA,IAAGN,GAAG,CAACC,CAAC,CAACW,IAAH,CAAN,EAAe;QACb,OAAO,EAAC,GAAGZ,GAAJ;UACP,CAACC,CAAC,CAACW,IAAH,GAAW,EACP,GAAGZ,GAAG,CAACC,CAAC,CAACW,IAAH,CADC;YAEPC,OAAO,EAAC,EACN,GAAGb,GAAG,CAACC,CAAC,CAACW,IAAH,CAAH,CAAYC,OADT;cAEL,CAACZ,CAAC,CAACa,WAAH,GAAgBZ;YAFX;UAFD;QADJ,CAAP;MASC,CAVH,MAUO;QACH,OAAO,EAAC,GAAGF,GAAJ;UACL,CAACC,CAAC,CAACW,IAAH,GAAS;YACPG,EAAE,EAAGd,CAAC,CAACU,GADA;YAEPC,IAAI,EAAGX,CAAC,CAACW,IAFF;YAGPJ,GAAG,EAAGP,CAAC,CAACQ,MAAF,CAAS,CAAT,EAAYD,GAHX;YAIPK,OAAO,EAAC;cACN,CAACZ,CAAC,CAACa,WAAH,GAAgBZ;YADV;UAJD;QADJ,CAAP;MAUD;IACJ,CA/Be,EA+Bd,EA/Bc,CAAhB;IAgCC,OAAO,EAAC,GAAGL,KAAK,CAACN,QAAV;MAAoBA,QAAQ,EAACO;IAA7B,CAAP;EACF,CAlCc,CAPf;EA0CA,MAAMkB,OAAO,GAAGpC,KAAK,CAACqC,MAAN,CAAaD,OAA7B;;EAEA,MAAME,gBAAgB,GAAIC,CAAD,IAAO;IAC9BnC,cAAc,CAACmC,CAAD,CAAd;EACD,CAFD;;EAIA,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;IACxCpC,QAAQ,CAACoC,QAAD,CAAR;EACD,CAFD;;EAGA,IAAIC,KAAK,GAAG3B,qBAAZ;EAEA/B,SAAS,CAAC,MAAM;IACd,IAAI4B,KAAJ,EAAW;MACTX,KAAK,CAACW,KAAN,CAAYA,KAAZ;MACAZ,QAAQ,CAACZ,WAAW,EAAZ,CAAR;IACD;;IAEDY,QAAQ,CAACX,UAAU,CAAC8C,OAAD,EAAUjC,WAAV,EAAuBI,QAAvB,CAAX,CAAR;EACD,CAPQ,EAON,CAACN,QAAD,EAAWmC,OAAX,EAAoBjC,WAApB,EAAiCI,QAAjC,EAA2CL,KAA3C,EAAkDW,KAAlD,CAPM,CAAT;EASA,oBACE,QAAC,QAAD;IAAA,UACGD,OAAO,gBACN,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QADM,gBAGN,QAAC,QAAD;MAAA,wBACE,QAAC,QAAD;QAAU,KAAK,EAAC;MAAhB;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAI,SAAS,EAAC,iBAAd;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eAIE;QAAK,SAAS,EAAC,WAAf;QAAA,uBAeE;UAAK,SAAS,EAAC,eAAf;UAAA,uBACE;YAAA,wBACE,QAAC,UAAD;cAAY,SAAS,EAAC,QAAtB;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADF,eAEE;cAAI,SAAS,EAAC,aAAd;cAAA,UACGd,UAAU,CAAC0B,GAAX,CAAgBjB,QAAD,iBACd;gBACE,SAAS,EAAC,eADZ;gBAGE,OAAO,EAAE,MAAMC,WAAW,CAACD,QAAD,CAH5B;gBAAA,UAKGA;cALH,GAEOA,QAFP;gBAAA;gBAAA;gBAAA;cAAA,QADD;YADH;cAAA;cAAA;cAAA;YAAA,QAFF;UAAA;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA;MAfF;QAAA;QAAA;QAAA;MAAA,QAJF,eAsCE;QAAK,SAAS,EAAC,UAAf;QAAA,UAMI,CAAC,GAAGqC,MAAM,CAACC,OAAP,CAAelC,QAAf,CAAJ,EACGmC,IADH,CACQ,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAAC,CAAD,CAAD,CAAKE,aAAL,CAAmBD,CAAC,CAAC,CAAD,CAApB,CADlB,EAEGxB,GAFH,CAEO,SAAkB;UAAA,IAAjB,CAAC0B,GAAD,EAAMC,KAAN,CAAiB;UACrB,oBAAO,QAAC,WAAD;YAA4B,OAAO,EAAEA;UAArC,GAAkBA,KAAK,CAAChB,EAAxB;YAAA;YAAA;YAAA;UAAA,QAAP;QACD,CAJH;MANJ;QAAA;QAAA;QAAA;MAAA,QAtCF,EAmDGpB,aAAa,GAAG4B,KAAhB,iBACC;QAAK,SAAS,EAAC,eAAf;QAAA,uBACE,QAAC,UAAD;UACE,UAAU,EAAExC,WADd;UAEE,iBAAiB,EAAEY,aAFrB;UAGE,eAAe,EAAED,aAHnB;UAIE,QAAQ,EAAEwB,gBAJZ;UAKE,YAAY,EAAC,MALf;UAME,YAAY,EAAC,MANf;UAOE,aAAa,EAAC,KAPhB;UAQE,YAAY,EAAC,MARf;UASE,SAAS,EAAC,WATZ;UAUE,SAAS,EAAC,WAVZ;UAWE,WAAW,EAAC,gBAXd;UAYE,eAAe,EAAC;QAZlB;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QApDJ;IAAA;MAAA;MAAA;MAAA;IAAA;EAJJ;IAAA;IAAA;IAAA;EAAA,QADF;AA8ED,CAhKD;;GAAMvC,Q;UACaX,W,EAEHO,Q,EAwBVR,W;;;KA3BAY,Q;AAkKN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}